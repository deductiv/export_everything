<form class="form-horizontal form-complex">
    <style>
    splunk-control-group > label.control-label {
        width: 150px !important; padding-right: 10px;
    }
    splunk-control-group > div[role=group] {
        margin-bottom: 0;
    }
    splunk-search-dropdown[name^='action.alert_ep'] > div > div > div[data-component='splunk-core:/splunkjs/mvc/components/Dropdown'] {
        width: 230px;
    }
    </style>

    <splunk-control-group label="S3 Account" style="width: 150px; padding-right: 10px">
            <splunk-search-dropdown name="action.alert_ep_aws_s3.param.dest_guid"
                    search="| rest splunk_server=local /servicesNS/-/export_everything/export_everything/ep_aws_s3 | table title alias" 
                    label-field="alias" value-field="title" />
          </splunk-control-group>
    </splunk-control-group>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="bucket">Bucket</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="text" name="action.alert_ep_aws_s3.param.bucket" id="bucket"/>
            <span class="help-block">
                <strong>Syntax:</strong> bucket=&lt;bucket name&gt;
                <strong>Description:</strong> The name of the destination S3 bucket
            </span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="outputfile">Output Folder/File</label>

        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="text" name="action.alert_ep_aws_s3.param.outputfile" id="outputfile" />
	    <span class="help-block">
                <strong>Syntax:</strong>outputfile=&lt;[folder/]file name&gt;
                <strong>Description:</strong> The name of the file to be written to the destination. If compression=true, a .gz extension will be appended. If compression is not specified and the filename ends in .gz, compression will automatically be applied.
                <strong>Default:</strong> `app_username_epoch.ext` (e.g. `search_admin_1588000000.log`).  json=.json, csv=.csv, tsv=.tsv, pipe=.log, kv=.log, raw=.log
                <strong>Keywords:</strong> `__now__`=epoch, `__today__`=date in yyyy-mm-dd format, `__nowft__`=timestamp in yyyy-mm-dd_hhmmss format.
            </span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="outputformat">Output Format</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <select id="outputformat" name="action.alert_ep_aws_s3.param.outputformat"> 
                <option value="raw">Raw Text (_raw contents)</option>
                <option value="json">JSON</option>
                <option value="kv">Key-Value Pairs</option>
                <option value="csv">Comma-Delimited</option>
                <option value="tsv">Tab-Delimited</option>
                <option value="pipe">Pipe-Delimited</option>
            </select>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="fields">Fields List</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="text" name="action.alert_ep_aws_s3.param.fields" id="fields" />
            <span class="help-block">
                <strong>Syntax:</strong> fields="field1, field2, field3"
                <strong>Description:</strong> Limit the fields to be written to the exported file. Wildcards are supported.
                <strong>Default:</strong> All (*)
	    </span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="compress">Compression</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="checkbox" name="action.alert_ep_aws_s3.param.compress" id="compress" value="1" />
	    <span class="help-block">
                <strong>Syntax:</strong> compress=[true|false]
                <strong>Description:</strong> Create the file as a .gz compressed archive
            </span>
        </div>
    </div>
</form>
