<form class="form-horizontal form-complex">
    <style>
    splunk-control-group > label.control-label {
        width: 150px !important; padding-right: 10px;
    }
    splunk-control-group > div[role=group] {
        margin-bottom: 0;
    }
    splunk-search-dropdown[name^='action.alert_ep'] > div > div > div[data-component='splunk-core:/splunkjs/mvc/components/Dropdown'] {
        width: 230px;
    }
    </style>

    <splunk-control-group label="SFTP Destination" style="width: 150px; padding-right: 10px">
            <splunk-search-dropdown name="action.alert_ep_sftp.param.dest_guid"
                    search="| rest splunk_server=local /servicesNS/-/export_everything/export_everything/ep_sftp | table title alias" 
                    label-field="alias" value-field="title" />
          </splunk-control-group>
    </splunk-control-group>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="outputfile">Output Folder/File</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="text" name="action.alert_ep_sftp.param.outputfile" id="outputfile" />
            <span class="help-block">
                <p>The name of the file to be written to the destination. If compression is enabled, a .gz extension will be appended. If compression is not specified and the filename ends in .gz, compression will automatically be applied.</p>
                <p><strong>Syntax:</strong> <code>&lt;[folder/]file name&gt;</code></p>
                <p><strong>Default:</strong> <code>app_username_epoch.ext</code> (e.g. <code>search_admin_1588000000.log</code>).  json=.json, csv=.csv, tsv=.tsv, pipe=.log, kv=.log, raw=.log</p>
                <p><strong>Keywords:</strong> <br style="display: none"/>
                    <code>__now__</code> = epoch <br style="display: none"/>
                    <code>__nowft__</code> = timestamp in yyyy-mm-dd_hhmmss format <br style="display: none"/>
                    <code>__today__</code> = date in yyyy-mm-dd format <br style="display: none"/>
                    <code>__yesterday__</code> = yesterday's date in yyyy-mm-dd format</p>
            </span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="outputformat">Output Format</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <select id="outputformat" name="action.alert_ep_sftp.param.outputformat"> 
                <option value="raw">Raw Text (_raw contents)</option>
                <option value="json">JSON</option>
                <option value="kv">Key-Value Pairs</option>
                <option value="csv">Comma-Delimited</option>
                <option value="tsv">Tab-Delimited</option>
                <option value="pipe">Pipe-Delimited</option>
            </select>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="fields">Fields List</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="text" name="action.alert_ep_sftp.param.fields" id="fields" />
            <span class="help-block">
                <p>Limit the fields to be written to the exported file. Wildcards are supported.</p>
                <p><strong>Syntax:</strong> <code>"field1, field2, field3"</code></p>
                <p><strong>Default:</strong> All (*)</p>
            </span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" style="width: 150px;" for="compress">Compression</label>
        <div class="controls controls-block" style="margin-left: 160px; width: 246px;">
            <input type="checkbox" name="action.alert_ep_sftp.param.compress" id="compress" />
            <span class="help-block">
                <p>Create the file as a .gz compressed archive.</p>
            </span>
        </div>
    </div>
</form>
